<?php
$this->headLink()->prependStylesheet($this->basepath() . '/css/shopping-cart.css');
	?>

<div class="flexHeader">
	<div class="flexFillWidth">
		<h1>Warenkorb</h1>
		<div class="cartHeadline">
			Menge
		</div>
		<div class="cartHeadline">
			Preis
		</div>
		<br/>
<!--		<hr id="cartLine1">-->

	<?php
 	$numberArticles = count($this->articles);
	for ($i=0; $i<$numberArticles; $i++)
	{

		$article = $this->articles[$i]["article"];
		$number = $this->articles[$i]["count"];
//		echo "<p> <IMG SRC = \"/image/"  . $article->getImageName() . "\"/> </p>";
//		echo "<h2>" . $article->getName() . "</h2>";
//		echo "<p>" . $article->getQuickDescription() . "</p>";
//		echo "<p> <b>" . $article->getPrice() . "</b>";
//		echo "<p> $number </p>";

		?>

		<div class="partWareWhole <?php echo ($i > 0)?"borderTop":"firstLine";?>">
			<div class="partWareLeft">
				<img src = "/image/<?php echo $article->getImageName() ?>"/>
			</div>
			<div class="partWareMiddle">
				<p>
				<b><?php echo $article->getName()?></b>
				<br><?php echo $article->getQuickDescription()?>
				<br>Preis pro Artikel: <b><?php echo number_format($article->getPrice(),2, ",", ".")?> €</b>
				</p>
			</div>
			<div class="partWareRight">
				<?php echo $number?>
			</div>
			<div class="partWareRight">
				<b><?php echo number_format(($article->getPrice()*$number),2, ",", ".")?> €</b>
			</div>

			
		</div>

		<?php
//		if($i<$numberArticles){
//			echo "<hr class='cartLine2'>";
//		}
		?>
		<?php
	}
	?>
	</div>

	<div class="partBuy">
		<?php
		$numberArticles = count($this->articles);
		$sum=0.00;
		for ($i=0; $i<$numberArticles; $i++)
		{
			/** @var \BikeStore\Model\Article $article */
			$article = $this->articles[$i]["article"];
			$number = $this->articles[$i]["count"];
			$zwischenwert = ($article->getPrice()*$number);
			$sum = $sum + $zwischenwert;
		}

		?>
		<p>Summe: <b> <?php echo number_format($sum,2, ",", ".");?> €</b><br>
			Kaufen</p>
	</div>
</div>


